{"version":3,"sources":["./src/app/shopping-list/shopping-edit/shopping-edit.component.html","./src/app/shopping-list/shopping-list.component.html","./src/app/shared/ingredient.model.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.css","./src/app/shopping-list/shopping-edit/shopping-edit.component.ts","./src/app/shopping-list/shopping-list-routing.module.ts","./src/app/shopping-list/shopping-list.component.css","./src/app/shopping-list/shopping-list.component.ts","./src/app/shopping-list/shopping-list.module.ts"],"names":[],"mappings":"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","file":"shopping-list-shopping-list-module-es2015.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12\\\">\\r\\n        <form #shoppingEditForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(shoppingEditForm)\\\" class=\\\"form-group\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-5 form-group\\\">\\r\\n                    <label for=\\\"name\\\" class=\\\"form\\\">Name</label>\\r\\n                    <input \\r\\n                    type=\\\"text\\\" \\r\\n                    id=\\\"name\\\" \\r\\n                    class=\\\"form-control\\\"\\r\\n                    name=\\\"name\\\"\\r\\n                    ngModel\\r\\n                    required>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-2 form-group\\\">\\r\\n                    <label for=\\\"amount\\\">Amount</label>\\r\\n                    <input \\r\\n                    type=\\\"number\\\" \\r\\n                    id=\\\"amount\\\" \\r\\n                    class=\\\"form-control\\\"\\r\\n                    name=\\\"amount\\\"\\r\\n                    ngModel\\r\\n                    required\\r\\n                    pattern=\\\"^[1-9]+[0-9]*$\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-12\\\">\\r\\n                    <button \\r\\n                        class=\\\"btn btn-success\\\" \\r\\n                        type=\\\"submit\\\" \\r\\n                        [disabled]=\\\"!shoppingEditForm.valid\\\"\\r\\n                        >{{ editMode ? 'Update' : 'Add'}}</button>\\r\\n                    <button \\r\\n                        class=\\\"btn btn-danger\\\" \\r\\n                        type=\\\"button\\\" \\r\\n                        (click)=\\\"onDelete()\\\"\\r\\n                        *ngIf=\\\"editMode\\\">Delete</button>\\r\\n                    <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" (click)=\\\"onClear()\\\">Clear</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-10\\\">\\r\\n        <app-shopping-edit></app-shopping-edit>\\r\\n        <hr>\\r\\n        <ul class=\\\"list-group\\\">\\r\\n            <a \\r\\n                class=\\\"list-group-item\\\" \\r\\n                style=\\\"cursor: pointer;\\\"\\r\\n                *ngFor=\\\"let ingredient of (ingredients | async).ingredients; let i = index\\\"\\r\\n                (click)=\\\"onEditItem(i)\\\"\\r\\n                [@add] [@.disabled]=\\\"!isNew\\\"\\r\\n                >\\r\\n                {{ingredient.name}} ({{ingredient.amount}})\\r\\n            </a>\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>\"","export class Ingredient {\r\n\r\n    constructor(public name: string, public amount: number) {}\r\n\r\n}","export default \"button {\\r\\n    margin-right: 5px;  /* Wasnt there in vid */\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hvcHBpbmctbGlzdC9zaG9wcGluZy1lZGl0L3Nob3BwaW5nLWVkaXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQixHQUFHLHVCQUF1QjtBQUMvQyIsImZpbGUiOiJzcmMvYXBwL3Nob3BwaW5nLWxpc3Qvc2hvcHBpbmctZWRpdC9zaG9wcGluZy1lZGl0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b24ge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7ICAvKiBXYXNudCB0aGVyZSBpbiB2aWQgKi9cclxufSJdfQ== */\"","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { Store } from '@ngrx/store';\r\nimport * as ShoppingListActions from '../store/shopping-list.actions';\r\nimport * as fromApp from '../../store/app.reducer';\r\n\r\nimport { Ingredient } from 'src/app/shared/ingredient.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-shopping-edit',\r\n  templateUrl: './shopping-edit.component.html',\r\n  styleUrls: ['./shopping-edit.component.css']\r\n})\r\nexport class ShoppingEditComponent implements OnInit, OnDestroy {\r\n \r\n  @ViewChild('shoppingEditForm', { static: false }) slForm: NgForm;\r\n  subscription: Subscription;\r\n  editMode = false;\r\n  editedItem: Ingredient;\r\n  ingredient: Ingredient[];\r\n\r\n  constructor(private store: Store<fromApp.AppState>) { }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.store.select('shoppingList').subscribe(stateData => {\r\n      if(stateData.editedIngredientIndex > -1) {\r\n        this.editMode = true;\r\n        this.editedItem = stateData.editedIngredient;\r\n        this.slForm.setValue({\r\n          name: this.editedItem.name,\r\n          amount: this.editedItem.amount\r\n        })\r\n      } else {\r\n        this.editMode = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(form: NgForm){\r\n    const value = form.value;\r\n    const newIngredient = new Ingredient(value.name, value.amount);\r\n    if (this.editMode) {\r\n      // this.slService.updateIngredient(this.editedItemIndex, newIngredient);\r\n\r\n      this.store.dispatch(\r\n        new ShoppingListActions.UpdateIngredient(newIngredient)\r\n      );\r\n    }else {\r\n      this.store.dispatch(new ShoppingListActions.AddIngredient(newIngredient));\r\n\r\n      // this.slService.addIngredient(newIngredient);\r\n    }\r\n    this.editMode = false;\r\n    form.reset();\r\n  }\r\n\r\n  onClear() {\r\n    this.slForm.reset();\r\n    this.editMode = false;\r\n    this.store.dispatch(new ShoppingListActions.StopEdit());\r\n  }\r\n\r\n  onDelete() {\r\n    // this.slService.deleteIngredient(this.editedItemIndex);\r\n    this.store.dispatch(new ShoppingListActions.DeleteIngredient());\r\n    this.onClear();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.store.dispatch(new ShoppingListActions.StopEdit());\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ShoppingListComponent } from './shopping-list.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: ShoppingListComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ShoppingListRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3BwaW5nLWxpc3Qvc2hvcHBpbmctbGlzdC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, OnChanges } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Store } from '@ngrx/store';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\n\r\nimport { Ingredient } from '../shared/ingredient.model';\r\nimport * as ShoppingListActions from './store/shopping-list.actions';\r\nimport * as fromApp from '../store/app.reducer';\r\nimport { tap, map, take, switchMap } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n  selector: 'app-shopping-list',\r\n  templateUrl: './shopping-list.component.html',\r\n  styleUrls: ['./shopping-list.component.css'],\r\n  animations: [\r\n    trigger('add', [\r\n      state('in', style({\r\n        opacity: 1,\r\n        transform: 'translateX(0)'\r\n      })),\r\n      transition('void => *', [\r\n        style({\r\n          opacity: 0,\r\n          transform: 'translateX(-100px)'\r\n        }),\r\n        animate(300)\r\n      ]),\r\n      transition('* => void', [\r\n        animate(300, style({\r\n          transform: 'translateX(100px)',\r\n          opacity: 0\r\n        }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class ShoppingListComponent implements OnInit {\r\n\r\n  ingredients: Observable<{ ingredients: Ingredient[] }>;\r\n  // private subscription: Subscription;\r\n  beforeChange: number;\r\n  afterChange: number;\r\n  isNew = true;\r\n\r\n  constructor(\r\n    // private slService:ShoppingListService,\r\n    private store: Store<fromApp.AppState>\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.ingredients = this.store.select('shoppingList'); // This code is beig used for using store approach\r\n    \r\n    // this.beforeChange = JSON.stringify(this.beforeChange)  \r\n    \r\n    this.ingredients\r\n      .subscribe(data => {\r\n        this.afterChange = data.ingredients.length;\r\n        if(this.beforeChange !== this.afterChange) {\r\n          this.isNew = true;\r\n          this.beforeChange = this.afterChange;\r\n        } else {\r\n          this.isNew = false;\r\n        }\r\n    });\r\n\r\n    this.ingredients.pipe(\r\n      take(1),\r\n      map(recipesState => {\r\n          return recipesState;\r\n      })\r\n    ).subscribe(data => {\r\n      this.beforeChange =  data.ingredients.length;\r\n      this.isNew = true;\r\n    }) \r\n\r\n    // Below code was used while using service\r\n\r\n    // this.ingredients = this.slService.getIngredients();\r\n    // this.subscription = this.slService.ingredientsChanged\r\n    //   .subscribe((ingredient: Ingredient[]) => {\r\n    //     this.ingredients = ingredient;\r\n    //   })\r\n  }\r\n\r\n  onEditItem(index: number) {\r\n    // this.slService.startedEditing.next(index);\r\n    this.store.dispatch(new ShoppingListActions.StartEdit(index));\r\n  }\r\n\r\n  // ngOnDestroy() {\r\n  //   this.subscription.unsubscribe();\r\n  // }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShoppingListRoutingModule } from './shopping-list-routing.module';\r\n\r\nimport { ShoppingListComponent } from './shopping-list.component';\r\nimport { ShoppingEditComponent } from './shopping-edit/shopping-edit.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ShoppingListComponent,\r\n    ShoppingEditComponent,\r\n  ],\r\n  imports: [\r\n    ShoppingListRoutingModule,\r\n    FormsModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class ShoppingListModule { }\r\n"],"sourceRoot":"webpack:///"}